\hypertarget{Database_2Mysql_2Name_8php}{\section{Name.\-php}
\label{Database_2Mysql_2Name_8php}\index{Validate/\-Db/\-Schema/\-Database/\-Mysql/\-Name.\-php@{Validate/\-Db/\-Schema/\-Database/\-Mysql/\-Name.\-php}}
}

\begin{DoxyCode}
00001 <?php
\hypertarget{Database_2Mysql_2Name_8php_source_l00029}{}\hyperlink{classZendDbSchema__Validate__Db__Schema__Database__Mysql__Name}{00029} \textcolor{keyword}{class }\hyperlink{classZendDbSchema__Validate__Db__Schema__Database__Mysql__Name}{ZendDbSchema\_Validate\_Db\_Schema\_Database\_Mysql\_Name}
00030     \textcolor{keyword}{extends} Zend\_Validate\_Abstract
00031 \{
00032     \textcolor{keyword}{const} NAME\_EMPTY      = \textcolor{stringliteral}{'databaseNameEmpty'};
00033     \textcolor{keyword}{const} RENAME          = \textcolor{stringliteral}{'databaseRename'};
00034     \textcolor{keyword}{const} EXISTS          = \textcolor{stringliteral}{'databaseExists'};
00035 
00039     \textcolor{keyword}{protected} $\_messageTemplates = array(
00040         self::NAME\_EMPTY      => \textcolor{stringliteral}{"Database name can not be empty"},
00041         self::RENAME          => \textcolor{stringliteral}{'Cannot rename %value% database'},
00042         self::EXISTS          => \textcolor{stringliteral}{"Database with name %value% alteady exists"}
00043     );
00044 
\hypertarget{Database_2Mysql_2Name_8php_source_l00051}{}\hyperlink{classZendDbSchema__Validate__Db__Schema__Database__Mysql__Name_a24d592903d729f2f98d3035471ad5538}{00051}     \textcolor{keyword}{public} \textcolor{keyword}{function} \hyperlink{classZendDbSchema__Validate__Db__Schema__Database__Mysql__Name_a24d592903d729f2f98d3035471ad5538}{isValid}($value)
00052     \{
00053         $schema = null;
00054         \textcolor{keywordflow}{if} ($value instanceof \hyperlink{classZendDbSchema__Db__Schema__Database}{ZendDbSchema\_Db\_Schema\_Database}
      ) \{
00055             $schema = $value;
00056             $value = $schema->getName();
00057         \}
00058         \textcolor{keywordflow}{if} (empty($value)) \{
00059             $this->\_error(self::NAME\_EMPTY);
00060             \textcolor{keywordflow}{return} \textcolor{keyword}{false};
00061         \}
00062         \textcolor{keywordflow}{if} ($schema && $value !== $schema->getOriginName()) \{
00063             \textcolor{keywordflow}{if} ($schema->isExist()) \{
00064                 $this->\_error(self::RENAME, $schema->getOriginName());
00065                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};
00066             \} elseif ($schema->getAdapter()->hasDatabase($value)) \{
00067                 $this->\_error(self::EXISTS, $value);
00068                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};
00069             \}
00070         \}
00071         \textcolor{keywordflow}{return} \textcolor{keyword}{true};
00072     \}
00073 \}
\end{DoxyCode}
