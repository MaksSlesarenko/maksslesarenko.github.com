\hypertarget{Table_2Mysql_2Column_2Name_8php}{\section{Name.\-php}
\label{Table_2Mysql_2Column_2Name_8php}\index{Validate/\-Db/\-Schema/\-Table/\-Mysql/\-Column/\-Name.\-php@{Validate/\-Db/\-Schema/\-Table/\-Mysql/\-Column/\-Name.\-php}}
}

\begin{DoxyCode}
00001 <?php
\hypertarget{Table_2Mysql_2Column_2Name_8php_source_l00029}{}\hyperlink{classZendDbSchema__Validate__Db__Schema__Table__Mysql__Column__Name}{00029} \textcolor{keyword}{class }\hyperlink{classZendDbSchema__Validate__Db__Schema__Table__Mysql__Column__Name}{ZendDbSchema\_Validate\_Db\_Schema\_Table\_Mysql\_Column\_Name}
00030     \textcolor{keyword}{extends} Zend\_Validate\_Abstract
00031 \{
00032     \textcolor{keyword}{const} NAME\_EMPTY      = \textcolor{stringliteral}{'columnNameEmpty'};
00033     \textcolor{keyword}{const} EXISTS          = \textcolor{stringliteral}{'columnExists'};
00034 
00038     \textcolor{keyword}{protected} $\_messageTemplates = array(
00039         self::NAME\_EMPTY      => \textcolor{stringliteral}{"Column name can not be empty"},
00040         self::EXISTS          => \textcolor{stringliteral}{"Column with name %value% alteady exists in
       table"}
00041     );
00042 
\hypertarget{Table_2Mysql_2Column_2Name_8php_source_l00049}{}\hyperlink{classZendDbSchema__Validate__Db__Schema__Table__Mysql__Column__Name_aa9b41a1e292fdac6ef8b8f4f0c2d8050}{00049}     \textcolor{keyword}{public} \textcolor{keyword}{function} \hyperlink{classZendDbSchema__Validate__Db__Schema__Table__Mysql__Column__Name_aa9b41a1e292fdac6ef8b8f4f0c2d8050}{isValid}($value)
00050     \{
00051         $schema = null;
00052         \textcolor{keywordflow}{if} ($value instanceof \hyperlink{classZendDbSchema__Db__Schema__Table__Column}{ZendDbSchema\_Db\_Schema\_Table\_Column}
      ) \{
00053             $schema = $value;
00054             $value = $schema->getName();
00055         \}
00056         \textcolor{keywordflow}{if} (empty($value)) \{
00057             $this->\_error(self::NAME\_EMPTY);
00058             \textcolor{keywordflow}{return} \textcolor{keyword}{false};
00059         \}
00060         \textcolor{keywordflow}{if} ($schema && $value !== $schema->getOriginName()) \{
00061             \textcolor{keywordflow}{if} ($schema->getTable()->columns()->has($value)) \{
00062                 $this->\_error(self::EXISTS, $value);
00063                 \textcolor{keywordflow}{return} \textcolor{keyword}{false};
00064             \}
00065         \}
00066         \textcolor{keywordflow}{return} \textcolor{keyword}{true};
00067     \}
00068 \}
\end{DoxyCode}
