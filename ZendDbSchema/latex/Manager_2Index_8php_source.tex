\hypertarget{Manager_2Index_8php_source}{\section{\-Db/\-Schema/\-Table/\-Manager/\-Index.php}
}

\begin{DoxyCode}
00001 <?php
\hypertarget{Manager_2Index_8php_source_l00029}{}\hyperlink{classZendDbSchema__Db__Schema__Table__Manager__Index}{00029} \textcolor{keyword}{class }\hyperlink{classZendDbSchema__Db__Schema__Table__Manager__Index}{ZendDbSchema_Db_Schema_Table_Manager_Index}
00030     \textcolor{keyword}{extends} \hyperlink{classZendDbSchema__Db__Schema__Table__Manager__AbstractManager}{ZendDbSchema_Db_Schema_Table_Manager_AbstractManager}
00031 \{
\hypertarget{Manager_2Index_8php_source_l00035}{}\hyperlink{classZendDbSchema__Db__Schema__Table__Manager__Index_abf682839df69cd725db24701e901458f}{00035}     \textcolor{keyword}{protected} \textcolor{keyword}{function} \hyperlink{classZendDbSchema__Db__Schema__Table__Manager__Index_abf682839df69cd725db24701e901458f}{_getItemClass}()
00036     \{
00037         \textcolor{keywordflow}{return} $this->\_table->getIndexClass();
00038     \}
00039 
\hypertarget{Manager_2Index_8php_source_l00046}{}\hyperlink{classZendDbSchema__Db__Schema__Table__Manager__Index_aad5593d15638018cb662002f35f1a975}{00046}     \textcolor{keyword}{public} \textcolor{keyword}{function} \hyperlink{classZendDbSchema__Db__Schema__Table__Manager__Index_aad5593d15638018cb662002f35f1a975}{add}(\hyperlink{classZendDbSchema__Db__Schema__Table__AbstractDefinition}{ZendDbSchema_Db_Schema_Table_AbstractDefinition} $item)
00047     \{
00048         $classname = $this->\hyperlink{classZendDbSchema__Db__Schema__Table__Manager__Index_abf682839df69cd725db24701e901458f}{_getItemClass}();
00049         \textcolor{keywordflow}{if} (!$item instanceof $classname) \{
00050             \textcolor{keywordflow}{throw} \textcolor{keyword}{new} \hyperlink{classZendDbSchema__Db__Schema__Exception}{ZendDbSchema_Db_Schema_Exception}(
00051                 \textcolor{stringliteral}{"Index must be instance of 'ZendDbSchema\_Db\_Schema\_Table\_Index'
      "}
00052             );
00053         \}
00054         $name = $item->\hyperlink{classZendDbSchema__Db__Schema__AbstractSchema_a55787c21deddba427842809d589c2df6}{getName}();
00055         \textcolor{keywordflow}{if} ($item->\hyperlink{classZendDbSchema__Db__Schema__AbstractSchema_a55787c21deddba427842809d589c2df6}{getName}() && $this->\hyperlink{classZendDbSchema__Db__Schema__Table__Manager__AbstractManager_ac96e8e5950ad6ff3387a51340d17e719}{has}($name)) \{
00056             \textcolor{keywordflow}{throw} \textcolor{keyword}{new} \hyperlink{classZendDbSchema__Db__Schema__Exception}{ZendDbSchema_Db_Schema_Exception}(\textcolor{stringliteral}{"Index by name '$name'
       already exists"});
00057         \}
00058         $item = \textcolor{keyword}{new} $classname($item->\hyperlink{classZendDbSchema__Db__Schema__AbstractSchema_a55787c21deddba427842809d589c2df6}{getName}(), $this->\_table);
00059 
00060         $this->\_data[] = $item;
00061 
00062         \textcolor{keywordflow}{return} $this;
00063     \}
00064 
\hypertarget{Manager_2Index_8php_source_l00065}{}\hyperlink{classZendDbSchema__Db__Schema__Table__Manager__Index_ae736a0eff081db2c7de80e635021ccc9}{00065}     \textcolor{keyword}{public} \textcolor{keyword}{function} \hyperlink{classZendDbSchema__Db__Schema__Table__Manager__Index_ae736a0eff081db2c7de80e635021ccc9}{refresh}()
00066     \{
00067         $classname = $this->\hyperlink{classZendDbSchema__Db__Schema__Table__Manager__Index_abf682839df69cd725db24701e901458f}{_getItemClass}();
00068         $data = $this->\_table->getSchema();
00069 
00070         \textcolor{keywordflow}{if} (!empty($data[\textcolor{stringliteral}{'index'}])) \{
00071             \textcolor{keywordflow}{foreach} ($data[\textcolor{stringliteral}{'index'}] as $name => $columnData) \{
00072                 $this->\hyperlink{classZendDbSchema__Db__Schema__Table__Manager__Index_aad5593d15638018cb662002f35f1a975}{add}(\textcolor{keyword}{new} $classname($name, $this->\_table));
00073             \}
00074         \}
00075     \}
00076 \}
\end{DoxyCode}
